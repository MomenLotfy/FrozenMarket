<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù†Ø³Ø®Ø© Ø§Ù„ØªØ´Ø®ÙŠØµ) - ÙØ±ÙˆØ²Ù† Ù…Ø§Ø±ÙƒØª</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
     :root {
      --primary-blue: #183c6e;
      --primary-yellow: #ffff00;
      --light-gray: #f8f9fa;
      --text-dark: #333;
      --primary-color: #3a6cf4;
      --secondary-color: #ff9d3c;
      --accent-color: #ff5e7d;
      --text-color: #2c3e50;
      --light-bg: #f8f9fa;
      --card-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
      --hover-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      --border-radius: 16px;
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
    }

    body { 
      font-family: "Tajawal", "Segoe UI", sans-serif; 
      background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-yellow) 100%); 
      min-height: 100vh; 
      display: flex; 
      align-items: center; 
      justify-content: center; 
      margin: 0; 
      padding: 15px;
      color: var(--text-dark);
      line-height: 1.6;
    }
    
    .auth-container { 
      width: 100%; 
      max-width: 500px; 
      padding: 40px 30px; 
      border-radius: var(--border-radius); 
      background: rgba(255, 255, 255, 0.15); 
      backdrop-filter: blur(12px); 
      box-shadow: var(--card-shadow); 
      color: #fff; 
      animation: fadeIn 0.8s ease-in-out;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    @keyframes fadeIn { 
      from {opacity: 0; transform: translateY(30px);} 
      to {opacity: 1; transform: translateY(0);} 
    }
    
    .auth-header { 
      text-align: center; 
      margin-bottom: 25px;
    }
    
    .auth-header h3 { 
      font-weight: 800; 
      font-size: 1.8rem; 
      color: #fff; 
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .auth-header p { 
      opacity: 0.9; 
      font-size: 0.95rem; 
      margin-top: 10px;
    }
    
    .form-control { 
      border-radius: 12px; 
      padding: 12px 40px 12px 12px; 
      border: 2px solid rgba(255,255,255,0.3); 
      background: rgba(255,255,255,0.2); 
      color: #fff; 
      transition: var(--transition);
      text-align: right;
    }
    
    .form-control:focus {
      border-color: var(--primary-yellow);
      box-shadow: 0 0 0 0.2rem rgba(255, 255, 0, 0.25);
      background: rgba(255,255,255,0.25);
    }
    
    .form-control::placeholder { 
      color: rgba(255,255,255,0.8); 
    }
    
    .input-icon { 
      position: absolute; 
      top: 50%; 
      right: 12px; 
      transform: translateY(-50%); 
      color: var(--primary-yellow); 
      font-size: 1rem; 
      z-index: 5;
    }
    
    .input-group { 
      position: relative; 
      margin-bottom: 18px; 
    }
    
    .btn-primary-custom { 
      background: var(--primary-yellow); 
      color: var(--primary-blue); 
      border: none; 
      border-radius: 12px; 
      padding: 12px; 
      font-weight: 700; 
      font-size: 1rem; 
      transition: var(--transition);
      box-shadow: 0 4px 15px rgba(255, 255, 0, 0.3);
    }
    
    .btn-primary-custom:hover { 
      background: #e6e600; 
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 255, 0, 0.4);
    }
    
    .btn-primary-custom:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .debug-info {
      background: rgba(0,0,0,0.3);
      border-radius: 8px;
      padding: 15px;
      margin-top: 20px;
      font-size: 0.85rem;
      color: #fff;
      max-height: 200px;
      overflow-y: auto;
    }

    .debug-info h5 {
      color: var(--primary-yellow);
      margin-bottom: 10px;
      font-size: 1rem;
    }

    .debug-log {
      background: #000;
      color: #0f0;
      padding: 10px;
      border-radius: 5px;
      font-family: monospace;
      font-size: 0.8rem;
      max-height: 150px;
      overflow-y: auto;
      margin-top: 10px;
    }
    
    #loginMsg, #debugMsg {
      text-align: center;
      margin-top: 15px;
      padding: 10px;
      border-radius: 8px;
      transition: var(--transition);
      min-height: 20px;
    }
    
    .msg-success {
      color: var(--primary-yellow);
      border: 1px solid rgba(255, 215, 0, 0.3);
      background: rgba(255, 215, 0, 0.1);
    }
    
    .msg-error {
      color: #ff6b6b;
      border: 1px solid rgba(255, 107, 107, 0.3);
      background: rgba(255, 107, 107, 0.1);
    }

    .msg-warning {
      color: #ffa502;
      border: 1px solid rgba(255, 165, 2, 0.3);
      background: rgba(255, 165, 2, 0.1);
    }

    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid var(--primary-blue);
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 1s ease-in-out infinite;
      margin-left: 8px;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .config-status {
      font-size: 0.8rem;
      margin-bottom: 10px;
    }

    .status-good { color: #2ed573; }
    .status-bad { color: #ff4757; }
    .status-warning { color: #ffa502; }

    @media (max-width: 576px) {
      .auth-container { 
        padding: 25px 20px; 
        border-radius: 15px; 
      }
      
      .auth-header h3 { 
        font-size: 1.5rem; 
      }
    }
  </style>
</head>
<body>

<div class="auth-container">
  <div class="auth-header">
    <h3>ÙØ±ÙˆØ²Ù† Ù…Ø§Ø±ÙƒØª (ØªØ´Ø®ÙŠØµ)</h3>
    <p>Ù†Ø³Ø®Ø© Ù…Ø­Ø³Ù‘Ù†Ø© Ù„Ù„ØªØ´Ø®ÙŠØµ ÙˆØ­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„</p>
  </div>

  <!-- Config Status -->
  <div class="debug-info">
    <h5><i class="fas fa-cog"></i> Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª:</h5>
    <div id="configStatus" class="config-status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</div>
  </div>

  <!-- Login Form -->
  <form id="signin-form">
    <div class="input-group">
      <i class="fa fa-envelope input-icon"></i>
      <input type="email" class="form-control" id="loginEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required value="test@example.com">
    </div>
    <div class="input-group">
      <i class="fa fa-lock input-icon"></i>
      <input type="password" class="form-control" id="loginPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required value="123456">
    </div>
    <button type="submit" class="btn btn-primary-custom w-100" id="loginBtn">
      ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (ØªØ¬Ø±ÙŠØ¨ÙŠ)
    </button>
    <div id="loginMsg"></div>
  </form>

  <!-- Debug Messages -->
  <div class="debug-info">
    <h5><i class="fas fa-bug"></i> Ø³Ø¬Ù„ Ø§Ù„ØªØ´Ø®ÙŠØµ:</h5>
    <div id="debugLog" class="debug-log"></div>
  </div>

  <!-- Quick Tests -->
  <div class="debug-info">
    <h5><i class="fas fa-flask"></i> Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø³Ø±ÙŠØ¹Ø©:</h5>
    <button type="button" class="btn btn-sm btn-outline-light me-2" onclick="testFirebaseConnection()">
      Ø§Ø®ØªØ¨Ø± Firebase
    </button>
    <button type="button" class="btn btn-sm btn-outline-light me-2" onclick="testAuth()">
      Ø§Ø®ØªØ¨Ø± Auth
    </button>
    <button type="button" class="btn btn-sm btn-outline-light" onclick="clearDebugLog()">
      Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„
    </button>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { 
    getAuth, 
    signInWithEmailAndPassword,
    createUserWithEmailAndPassword,
    connectAuthEmulator
  } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
  import { 
    getFirestore,
    connectFirestoreEmulator
  } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  // ğŸ”§ Ø¶Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø´Ø±ÙˆØ¹Ùƒ Ù‡Ù†Ø§
  const firebaseConfig = {
    apiKey: "AIzaSyCFk_WlW4qHcSbsLSHeWUTfGsc5W0FSE8A",           // âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
    authDomain: "frozenmarket-5c9df.firebaseapp.com",     // âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
    projectId: "frozenmarket-5c9df",                      // âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
    storageBucket: "frozenmarket-5c9df.firebasestorage.app",  // âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
    messagingSenderId: "847658049541",                    // âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
    appId: "1:847658049541:web:6f4cd551a12d5e45b5bc6c"   // âš ï¸ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªÙƒ
  };

  // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªØ´Ø®ÙŠØµ
  let app, auth, db;
  let debugLog = [];
  let configValid = false;

  // Ø¯Ø§Ù„Ø© Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ¬ Ø§Ù„ØªØ´Ø®ÙŠØµ
  function addDebugLog(message, type = 'info') {
    const timestamp = new Date().toLocaleTimeString('ar-EG');
    const logEntry = `[${timestamp}] ${type.toUpperCase()}: ${message}`;
    debugLog.push(logEntry);
    
    const debugLogElement = document.getElementById('debugLog');
    debugLogElement.innerHTML = debugLog.slice(-10).join('\n'); // Ø¢Ø®Ø± 10 Ø±Ø³Ø§Ø¦Ù„
    debugLogElement.scrollTop = debugLogElement.scrollHeight;
    
    console.log(logEntry);
  }

  // Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
  function showMessage(elementId, message, type = 'success') {
    const msgElement = document.getElementById(elementId);
    msgElement.textContent = message;
    msgElement.className = `msg-${type}`;
    
    setTimeout(() => {
      msgElement.textContent = '';
      msgElement.className = '';
    }, 5000);
  }

  // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  function validateConfig() {
    const configStatus = document.getElementById('configStatus');
    let statusHtml = '';

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† API Key
    if (!firebaseConfig.apiKey || firebaseConfig.apiKey === 'YOUR_API_KEY_HERE') {
      statusHtml += '<div class="status-bad">âŒ API Key ØºÙŠØ± ØµØ­ÙŠØ­</div>';
    } else {
      statusHtml += '<div class="status-good">âœ… API Key Ù…ÙˆØ¬ÙˆØ¯</div>';
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Auth Domain
    if (!firebaseConfig.authDomain || firebaseConfig.authDomain.includes('your-project')) {
      statusHtml += '<div class="status-bad">âŒ Auth Domain ØºÙŠØ± ØµØ­ÙŠØ­</div>';
    } else {
      statusHtml += '<div class="status-good">âœ… Auth Domain ØµØ­ÙŠØ­</div>';
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Project ID
    if (!firebaseConfig.projectId || firebaseConfig.projectId === 'your-project-id') {
      statusHtml += '<div class="status-bad">âŒ Project ID ØºÙŠØ± ØµØ­ÙŠØ­</div>';
    } else {
      statusHtml += '<div class="status-good">âœ… Project ID Ù…ÙˆØ¬ÙˆØ¯</div>';
    }

    configStatus.innerHTML = statusHtml;
    
    // ØªØ­Ø¯ÙŠØ¯ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµØ§Ù„Ø­Ø©
    configValid = !statusHtml.includes('status-bad');
    
    if (configValid) {
      addDebugLog('Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase ØµØ­ÙŠØ­Ø©', 'success');
    } else {
      addDebugLog('Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase ØªØ­ØªØ§Ø¬ ØªØ¹Ø¯ÙŠÙ„', 'error');
    }
  }

  // ØªÙ‡ÙŠØ¦Ø© Firebase
  async function initializeFirebase() {
    try {
      addDebugLog('Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© Firebase...');
      
      app = initializeApp(firebaseConfig);
      auth = getAuth(app);
      db = getFirestore(app);
      
      addDebugLog('ØªÙ… ØªÙ‡ÙŠØ¦Ø© Firebase Ø¨Ù†Ø¬Ø§Ø­', 'success');
      return true;
    } catch (error) {
      addDebugLog(`Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Firebase: ${error.message}`, 'error');
      showMessage('loginMsg', `Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Firebase: ${error.message}`, 'error');
      return false;
    }
  }

  // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase
  window.testFirebaseConnection = async function() {
    addDebugLog('Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ Firebase...');
    
    try {
      // Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ù…Ù„ Firebase
      const testResult = await fetch(`https://${firebaseConfig.projectId}-default-rtdb.firebaseio.com/.json`);
      addDebugLog('Ø§ØªØµØ§Ù„ Firebase ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­', 'success');
      showMessage('loginMsg', 'Ø§ØªØµØ§Ù„ Firebase ÙŠØ¹Ù…Ù„!', 'success');
    } catch (error) {
      addDebugLog(`Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ Firebase: ${error.message}`, 'error');
      showMessage('loginMsg', `Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ${error.message}`, 'error');
    }
  };

  // Ø§Ø®ØªØ¨Ø§Ø± Authentication
  window.testAuth = async function() {
    addDebugLog('Ø§Ø®ØªØ¨Ø§Ø± Authentication...');
    
    if (!auth) {
      addDebugLog('Auth ØºÙŠØ± Ù…Ù‡ÙŠØ£', 'error');
      showMessage('loginMsg', 'Auth ØºÙŠØ± Ù…Ù‡ÙŠØ£', 'error');
      return;
    }

    try {
      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ
      const testEmail = 'test-' + Date.now() + '@example.com';
      const testPassword = '123456';
      
      addDebugLog(`Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ: ${testEmail}`);
      
      const userCredential = await createUserWithEmailAndPassword(auth, testEmail, testPassword);
      addDebugLog('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¨Ù†Ø¬Ø§Ø­', 'success');
      
      // Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ
      await userCredential.user.delete();
      addDebugLog('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ', 'info');
      
      showMessage('loginMsg', 'Authentication ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!', 'success');
    } catch (error) {
      addDebugLog(`Ø®Ø·Ø£ ÙÙŠ Authentication: ${error.code} - ${error.message}`, 'error');
      
      // ØªØ­Ù„ÙŠÙ„ Ù†ÙˆØ¹ Ø§Ù„Ø®Ø·Ø£
      let userMessage = 'Ø®Ø·Ø£ ÙÙŠ Authentication: ';
      switch (error.code) {
        case 'auth/operation-not-allowed':
          userMessage += 'Email/Password ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„ ÙÙŠ Firebase Console';
          break;
        case 'auth/invalid-api-key':
          userMessage += 'API Key ØºÙŠØ± ØµØ­ÙŠØ­';
          break;
        case 'auth/network-request-failed':
          userMessage += 'Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª';
          break;
        default:
          userMessage += error.message;
      }
      
      showMessage('loginMsg', userMessage, 'error');
    }
  };

  // Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„ØªØ´Ø®ÙŠØµ
  window.clearDebugLog = function() {
    debugLog = [];
    document.getElementById('debugLog').innerHTML = '';
    addDebugLog('ØªÙ… Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„ØªØ´Ø®ÙŠØµ');
  };

  // Ù…Ø¹Ø§Ù„Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  document.getElementById('signin-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const email = document.getElementById('loginEmail').value.trim();
    const password = document.getElementById('loginPassword').value;
    const loginBtn = document.getElementById('loginBtn');
    
    if (!email || !password) {
      showMessage('loginMsg', 'ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
      return;
    }

    if (!configValid) {
      showMessage('loginMsg', 'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase ØºÙŠØ± ØµØ­ÙŠØ­Ø©', 'error');
      return;
    }
    
    loginBtn.disabled = true;
    loginBtn.innerHTML = 'Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„... <span class="spinner"></span>';
    
    addDebugLog(`Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„: ${email}`);
    
    try {
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;
      
      addDebugLog(`ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­: ${user.uid}`, 'success');
      showMessage('loginMsg', 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
      
      // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù‡Ù†Ø§
      // window.location.href = "profile.html";
      
    } catch (error) {
      addDebugLog(`Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ${error.code} - ${error.message}`, 'error');
      
      let userMessage = 'Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ';
      switch (error.code) {
        case 'auth/user-not-found':
          userMessage += 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ';
          break;
        case 'auth/wrong-password':
          userMessage += 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
          break;
        case 'auth/invalid-email':
          userMessage += 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­';
          break;
        case 'auth/too-many-requests':
          userMessage += 'Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙƒØ«ÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ø§Ù‹';
          break;
        case 'auth/network-request-failed':
          userMessage += 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª';
          break;
        case 'auth/invalid-api-key':
          userMessage += 'Ù…ÙØªØ§Ø­ API ØºÙŠØ± ØµØ­ÙŠØ­ - ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase';
          break;
        case 'auth/operation-not-allowed':
          userMessage += 'Email/Password ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„ ÙÙŠ Firebase Console';
          break;
        default:
          userMessage += error.message;
      }
      
      showMessage('loginMsg', userMessage, 'error');
    } finally {
      loginBtn.disabled = false;
      loginBtn.innerHTML = 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (ØªØ¬Ø±ÙŠØ¨ÙŠ)';
    }
  });

  // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
  async function startApp() {
    addDebugLog('Ø¨Ø¯Ø¡ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ´Ø®ÙŠØµ...');
    
    validateConfig();
    
    if (configValid) {
      const initialized = await initializeFirebase();
      if (initialized) {
        addDebugLog('Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…', 'success');
        showMessage('loginMsg', 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± - Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø£Ùˆ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ', 'success');
      }
    } else {
      addDebugLog('ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase Ø£ÙˆÙ„Ø§Ù‹', 'warning');
      showMessage('loginMsg', 'ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase', 'warning');
    }
  }

  // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
  startApp();

</script>

</body>
</html>